# AI-RSS-Hub å¼€å‘ä¸Žéƒ¨ç½²éš”ç¦»æ–¹æ¡ˆ

## ðŸ“ å½“å‰ç›®å½•ç»“æž„

æ‚¨ç›®å‰æœ‰ä¸¤ä¸ªç›®å½•ï¼š

```
/home/sam/Github/get_news_api/AI-RSS-Hub/  # å¼€å‘ç›®å½•
/home/sam/Github/AI-RSS-Hub/                # éƒ¨ç½²/æµ‹è¯•ç›®å½•
```

## ðŸŽ¯ æŽ¨èæ–¹æ¡ˆï¼šGit + è½¯é“¾æŽ¥

### æ–¹æ¡ˆ 1ï¼šä½¿ç”¨ Git ä»“åº“ç®¡ç†ï¼ˆæŽ¨èï¼‰â­

è¿™æ˜¯æœ€ä¸“ä¸šå’Œæ ‡å‡†çš„åšæ³•ï¼š

#### 1.1 åˆå§‹åŒ– Git ä»“åº“

```bash
# åœ¨å¼€å‘ç›®å½•åˆå§‹åŒ– Git
cd /home/sam/Github/get_news_api/AI-RSS-Hub
git init
git add .
git commit -m "Initial commit: AI-RSS-Hub project"

# æ·»åŠ  .gitignoreï¼ˆå¦‚æžœè¿˜æ²¡æœ‰ï¼‰
cat > .gitignore << 'EOF'
# Python
__pycache__/
*.py[cod]
*$py.class
*.so
.Python
venv/
env/
ENV/

# æ•°æ®åº“
*.db
*.sqlite
*.sqlite3

# çŽ¯å¢ƒå˜é‡
.env

# IDE
.vscode/
.idea/
*.swp
*.swo

# æ—¥å¿—
*.log

# ä¸´æ—¶æ–‡ä»¶
*.tmp
.DS_Store
EOF

git add .gitignore
git commit -m "Add .gitignore"
```

#### 1.2 åŒæ­¥åˆ°éƒ¨ç½²ç›®å½•

```bash
# æ–¹æ³• Aï¼šä½¿ç”¨ Git æŽ¨é€/æ‹‰å–ï¼ˆå¦‚æžœæœ‰è¿œç¨‹ä»“åº“ï¼‰
cd /home/sam/Github/get_news_api/AI-RSS-Hub
git remote add origin <your-repo-url>
git push -u origin master

cd /home/sam/Github/AI-RSS-Hub
git pull origin master

# æ–¹æ³• Bï¼šæœ¬åœ° Git åŒæ­¥ï¼ˆæ— éœ€è¿œç¨‹ä»“åº“ï¼‰
cd /home/sam/Github/AI-RSS-Hub
git pull /home/sam/Github/get_news_api/AI-RSS-Hub master
```

#### 1.3 å·¥ä½œæµç¨‹

```bash
# 1. åœ¨å¼€å‘ç›®å½•ç¼–å†™ä»£ç 
cd /home/sam/Github/get_news_api/AI-RSS-Hub
# ... ä¿®æ”¹ä»£ç  ...

# 2. æäº¤æ›´æ”¹
git add app/
git commit -m "Feature: Add new endpoint"

# 3. åŒæ­¥åˆ°éƒ¨ç½²ç›®å½•
cd /home/sam/Github/AI-RSS-Hub
git pull /home/sam/Github/get_news_api/AI-RSS-Hub master

# 4. é‡å¯æœåŠ¡ï¼ˆå¦‚æžœæ­£åœ¨è¿è¡Œï¼‰
# Ctrl+C åœæ­¢å½“å‰æœåŠ¡ï¼Œç„¶åŽé‡æ–°å¯åŠ¨
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

---

### æ–¹æ¡ˆ 2ï¼šä½¿ç”¨ rsync åŒæ­¥ï¼ˆç®€å•å¿«é€Ÿï¼‰

#### 2.1 åˆ›å»ºåŒæ­¥è„šæœ¬

```bash
# åœ¨å¼€å‘ç›®å½•åˆ›å»ºåŒæ­¥è„šæœ¬
cat > /home/sam/Github/get_news_api/AI-RSS-Hub/sync_to_deploy.sh << 'EOF'
#!/bin/bash

SOURCE="/home/sam/Github/get_news_api/AI-RSS-Hub/"
TARGET="/home/sam/Github/AI-RSS-Hub/"

echo "æ­£åœ¨åŒæ­¥ä»£ç åˆ°éƒ¨ç½²ç›®å½•..."

rsync -av --delete \
  --exclude='venv/' \
  --exclude='__pycache__/' \
  --exclude='*.pyc' \
  --exclude='.env' \
  --exclude='*.db' \
  --exclude='*.swp' \
  --exclude='.git/' \
  "$SOURCE" "$TARGET"

echo "åŒæ­¥å®Œæˆï¼"
echo "æç¤ºï¼šå¦‚æžœæœåŠ¡æ­£åœ¨è¿è¡Œï¼Œè¯·é‡å¯æœåŠ¡ä»¥åº”ç”¨æ›´æ”¹"
EOF

chmod +x /home/sam/Github/get_news_api/AI-RSS-Hub/sync_to_deploy.sh
```

#### 2.2 ä½¿ç”¨æ–¹æ³•

```bash
# æ¯æ¬¡ä¿®æ”¹ä»£ç åŽï¼Œè¿è¡ŒåŒæ­¥è„šæœ¬
cd /home/sam/Github/get_news_api/AI-RSS-Hub
./sync_to_deploy.sh
```

---

### æ–¹æ¡ˆ 3ï¼šè½¯é“¾æŽ¥æ–¹å¼ï¼ˆä¸æŽ¨èï¼Œæ˜“æ··æ·†ï¼‰

```bash
# åˆ é™¤éƒ¨ç½²ç›®å½•çš„ app æ–‡ä»¶å¤¹
rm -rf /home/sam/Github/AI-RSS-Hub/app

# åˆ›å»ºè½¯é“¾æŽ¥æŒ‡å‘å¼€å‘ç›®å½•
ln -s /home/sam/Github/get_news_api/AI-RSS-Hub/app /home/sam/Github/AI-RSS-Hub/app

# ä¼˜ç‚¹ï¼šå®žæ—¶åŒæ­¥ï¼Œæ— éœ€æ‰‹åŠ¨å¤åˆ¶
# ç¼ºç‚¹ï¼šä¸¤ä¸ªç›®å½•è€¦åˆï¼Œå®¹æ˜“æ··æ·†ï¼Œæ•°æ®åº“å’Œé…ç½®å…±äº«
```

---

### æ–¹æ¡ˆ 4ï¼šä½¿ç”¨ Makefile ç®¡ç†ï¼ˆä¸“ä¸šå¼€å‘ï¼‰

#### 4.1 åˆ›å»º Makefile

```bash
cat > /home/sam/Github/get_news_api/AI-RSS-Hub/Makefile << 'EOF'
.PHONY: help sync deploy test clean

DEV_DIR := /home/sam/Github/get_news_api/AI-RSS-Hub
DEPLOY_DIR := /home/sam/Github/AI-RSS-Hub

help:
	@echo "å¯ç”¨å‘½ä»¤ï¼š"
	@echo "  make sync     - åŒæ­¥ä»£ç åˆ°éƒ¨ç½²ç›®å½•"
	@echo "  make deploy   - åŒæ­¥å¹¶é‡å¯æœåŠ¡"
	@echo "  make test     - è¿è¡Œæµ‹è¯•"
	@echo "  make clean    - æ¸…ç†ä¸´æ—¶æ–‡ä»¶"

sync:
	@echo "æ­£åœ¨åŒæ­¥ä»£ç ..."
	rsync -av --delete \
	  --exclude='venv/' \
	  --exclude='__pycache__/' \
	  --exclude='*.pyc' \
	  --exclude='.env' \
	  --exclude='*.db' \
	  $(DEV_DIR)/ $(DEPLOY_DIR)/
	@echo "åŒæ­¥å®Œæˆï¼"

deploy: sync
	@echo "ä»£ç å·²åŒæ­¥ï¼Œè¯·æ‰‹åŠ¨é‡å¯æœåŠ¡"

test:
	cd $(DEV_DIR) && pytest tests/

clean:
	find $(DEV_DIR) -type d -name "__pycache__" -exec rm -rf {} +
	find $(DEV_DIR) -type f -name "*.pyc" -delete
	find $(DEV_DIR) -type f -name "*.swp" -delete
EOF
```

#### 4.2 ä½¿ç”¨æ–¹æ³•

```bash
# åŒæ­¥ä»£ç 
make sync

# åŒæ­¥å¹¶æç¤ºé‡å¯
make deploy

# è¿è¡Œæµ‹è¯•
make test

# æ¸…ç†ä¸´æ—¶æ–‡ä»¶
make clean
```

---

## ðŸ”§ å½“å‰æƒ…å†µå¤„ç†å»ºè®®

### ç«‹å³æ‰§è¡Œçš„æ­¥éª¤

```bash
# 1. åœ¨å¼€å‘ç›®å½•åˆå§‹åŒ– Gitï¼ˆå¦‚æžœè¿˜æ²¡æœ‰ï¼‰
cd /home/sam/Github/get_news_api/AI-RSS-Hub
git init
git add .
git commit -m "Initial commit"

# 2. åˆ›å»ºåŒæ­¥è„šæœ¬ï¼ˆå¿«é€Ÿæ–¹æ¡ˆï¼‰
cat > sync.sh << 'EOF'
#!/bin/bash
rsync -av --delete \
  --exclude='venv/' \
  --exclude='__pycache__/' \
  --exclude='*.pyc' \
  --exclude='.env' \
  --exclude='*.db' \
  --exclude='*.swp' \
  /home/sam/Github/get_news_api/AI-RSS-Hub/ \
  /home/sam/Github/AI-RSS-Hub/
echo "åŒæ­¥å®Œæˆï¼"
EOF
chmod +x sync.sh

# 3. æ¯æ¬¡ä¿®æ”¹ä»£ç åŽï¼Œè¿è¡ŒåŒæ­¥
./sync.sh
```

---

## ðŸ“ æœ€ä½³å®žè·µ

### 1. ç›®å½•ç”¨é€”æ˜Žç¡®åˆ’åˆ†

```
å¼€å‘ç›®å½•ï¼š/home/sam/Github/get_news_api/AI-RSS-Hub/
- ç”¨äºŽä»£ç ç¼–å†™å’Œç‰ˆæœ¬æŽ§åˆ¶
- å¯ä»¥éšæ„ä¿®æ”¹ã€æµ‹è¯•
- ä¸è¿è¡Œå®žé™…æœåŠ¡

éƒ¨ç½²ç›®å½•ï¼š/home/sam/Github/AI-RSS-Hub/
- ç”¨äºŽè¿è¡ŒæœåŠ¡
- åŒ…å«è™šæ‹ŸçŽ¯å¢ƒã€æ•°æ®åº“ã€.env é…ç½®
- å®šæœŸä»Žå¼€å‘ç›®å½•åŒæ­¥ä»£ç 
```

### 2. æ–‡ä»¶ç®¡ç†ç­–ç•¥

#### ä¸åŒæ­¥çš„æ–‡ä»¶ï¼ˆæ¯ä¸ªçŽ¯å¢ƒç‹¬ç«‹ï¼‰

- `venv/` - è™šæ‹ŸçŽ¯å¢ƒ
- `.env` - çŽ¯å¢ƒé…ç½®
- `*.db` - æ•°æ®åº“æ–‡ä»¶
- `__pycache__/` - Python ç¼“å­˜
- `*.log` - æ—¥å¿—æ–‡ä»¶

#### éœ€è¦åŒæ­¥çš„æ–‡ä»¶ï¼ˆä»Žå¼€å‘åˆ°éƒ¨ç½²ï¼‰

- `app/` - åº”ç”¨ä»£ç 
- `requirements.txt` - ä¾èµ–åˆ—è¡¨
- `*.md` - æ–‡æ¡£
- `run.sh` / `start.sh` - å¯åŠ¨è„šæœ¬

### 3. å¼€å‘å·¥ä½œæµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¼€å‘ç›®å½•   â”‚  1. ç¼–å†™ä»£ç 
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 2. æµ‹è¯•æ— è¯¯
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Git Commit â”‚  3. æäº¤æ›´æ”¹
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 4. åŒæ­¥/æŽ¨é€
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  éƒ¨ç½²ç›®å½•   â”‚  5. è¿è¡ŒæœåŠ¡
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸš€ æŽ¨èçš„å®Œæ•´å·¥ä½œæµç¨‹

### æ—¥å¸¸å¼€å‘æµç¨‹

```bash
# 1. åœ¨å¼€å‘ç›®å½•ä¿®æ”¹ä»£ç 
cd /home/sam/Github/get_news_api/AI-RSS-Hub
vim app/api/routes.py

# 2. æäº¤æ›´æ”¹
git add app/api/routes.py
git commit -m "Feature: æ·»åŠ æ–°çš„ API ç«¯ç‚¹"

# 3. åŒæ­¥åˆ°éƒ¨ç½²ç›®å½•
./sync.sh
# æˆ–ä½¿ç”¨ rsync æ‰‹åŠ¨åŒæ­¥

# 4. é‡å¯éƒ¨ç½²çŽ¯å¢ƒçš„æœåŠ¡
# å¦‚æžœä½¿ç”¨ --reloadï¼Œuvicorn ä¼šè‡ªåŠ¨é‡è½½
# å¦åˆ™éœ€è¦æ‰‹åŠ¨ Ctrl+C åŽé‡æ–°å¯åŠ¨
```

---

## ðŸ’¡ Claude Code ååŠ©å»ºè®®

å½“æˆ‘éœ€è¦ä¿®æ”¹ä»£ç æ—¶ï¼š

```bash
# æˆ‘ä¼šï¼š
1. åŒæ—¶åœ¨ä¸¤ä¸ªç›®å½•ä¿®æ”¹æ–‡ä»¶ï¼ˆä¿æŒåŒæ­¥ï¼‰
2. ä¼˜å…ˆåœ¨å¼€å‘ç›®å½•ä¿®æ”¹ï¼Œç„¶åŽæé†’æ‚¨åŒæ­¥
3. å‘Šè¯‰æ‚¨å“ªäº›æ–‡ä»¶è¢«ä¿®æ”¹äº†

# æ‚¨éœ€è¦ï¼š
1. å®šæœŸè¿è¡ŒåŒæ­¥è„šæœ¬
2. é‡å¯æœåŠ¡ä»¥åº”ç”¨æ›´æ”¹
3. æ£€æŸ¥æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ
```

---

## ðŸ“Š æ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ | ä¼˜ç‚¹ | ç¼ºç‚¹ | æŽ¨èåº¦ |
|------|------|------|--------|
| Git + rsync | ç‰ˆæœ¬æŽ§åˆ¶ + ç®€å•åŒæ­¥ | éœ€è¦æ‰‹åŠ¨åŒæ­¥ | â­â­â­â­â­ |
| çº¯ rsync | ç®€å•å¿«é€Ÿ | æ— ç‰ˆæœ¬åŽ†å² | â­â­â­â­ |
| è½¯é“¾æŽ¥ | è‡ªåŠ¨åŒæ­¥ | çŽ¯å¢ƒè€¦åˆã€æ˜“æ··æ·† | â­â­ |
| Makefile | ä¸“ä¸šã€è‡ªåŠ¨åŒ– | éœ€è¦å­¦ä¹  make | â­â­â­â­ |

---

## ðŸ” é—®é¢˜æŽ’æŸ¥

### åŒæ­¥åŽä»£ç æœªç”Ÿæ•ˆ

```bash
# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦çœŸçš„åŒæ­¥äº†
diff /home/sam/Github/get_news_api/AI-RSS-Hub/app/api/routes.py \
     /home/sam/Github/AI-RSS-Hub/app/api/routes.py

# æ£€æŸ¥ Python æ˜¯å¦ä½¿ç”¨äº†æ—§çš„ .pyc ç¼“å­˜
find /home/sam/Github/AI-RSS-Hub -name "*.pyc" -delete
find /home/sam/Github/AI-RSS-Hub -type d -name "__pycache__" -exec rm -rf {} +

# é‡å¯æœåŠ¡
# å¦‚æžœä½¿ç”¨ --reloadï¼Œä»£ç åº”è¯¥è‡ªåŠ¨é‡è½½
# å¦åˆ™éœ€è¦ Ctrl+C åœæ­¢ï¼Œç„¶åŽé‡æ–°å¯åŠ¨
```

### æ•°æ®åº“ä¸ä¸€è‡´

```bash
# å¼€å‘å’Œéƒ¨ç½²ä½¿ç”¨ä¸åŒçš„æ•°æ®åº“
# å¼€å‘ç›®å½•ï¼šå¯ä»¥ç”¨æµ‹è¯•æ•°æ®
# éƒ¨ç½²ç›®å½•ï¼šç”¨å®žé™…æ•°æ®

# å¦‚æžœéœ€è¦é‡ç½®æ•°æ®åº“
rm /home/sam/Github/AI-RSS-Hub/ai_rss_hub.db
# é‡å¯æœåŠ¡ä¼šè‡ªåŠ¨åˆ›å»ºæ–°æ•°æ®åº“
```

---

## âœ… æˆ‘çš„æŽ¨è

**æœ€ä½³æ–¹æ¡ˆï¼šGit + rsync è„šæœ¬**

1. ä½¿ç”¨ Git ç®¡ç†ä»£ç ç‰ˆæœ¬
2. ä½¿ç”¨ rsync è„šæœ¬å¿«é€ŸåŒæ­¥
3. ä¿æŒä¸¤ä¸ªçŽ¯å¢ƒçš„é…ç½®æ–‡ä»¶ç‹¬ç«‹
4. ä½¿ç”¨ uvicorn --reload å®žçŽ°çƒ­é‡è½½

è¿™æ ·æ—¢æœ‰ç‰ˆæœ¬æŽ§åˆ¶çš„ä¼˜åŠ¿ï¼Œåˆæœ‰å¿«é€ŸåŒæ­¥çš„ä¾¿åˆ©æ€§ï¼
